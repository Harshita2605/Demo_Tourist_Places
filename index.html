<!DOCTYPE html>
<html>

<head>
    <title> Map 1 </title>

    <script src="js/all.js"></script>
    <script src="js/n.js"></script>
    <script src="js/num.js"></script>
    <script src="js/pop.js"></script>

    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <style>
        #map {
            height: 675px;
            width: 100%;
        }
        
        .navbar {
            overflow: hidden;
            background-color: #333;
        }
        
        .navbar a {
            float: left;
            font-size: 16px;
            color: white;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
        }
        
        .subnav,
        .sub_subnav {
            float: left;
            overflow: hidden;
        }
        
        .subnav .subnavbtn {
            font-size: 16px;
            border: none;
            outline: none;
            color: white;
            padding: 14px 16px;
            background-color: inherit;
            font-family: inherit;
            margin: 0;
        }
        
        .sub_subnav .sub_subnavbtn {
            font-size: 16px;
            border: none;
            outline: none;
            color: #333;
            padding: 14px 16px;
            background-color: inherit;
            font-family: inherit;
            margin: 0;
        }
        
        .navbar a:hover,
        .subnav:hover .subnavbtn,
        .sub_subnav:hover .sub_subnavbtn {
            background-color: white;
            color: #333;
            font-weight: bold;
        }
        
        .subnav-content {
            display: none;
            position: absolute;
            left: 300;
            background-color: white;
            width: 12%;
            z-index: 1;
        }
        
        .subnav-content a {
            float: center;
            color: #333;
            text-decoration: none;
        }
        
        .subnav-content a:hover {
            background-color: white;
            font-weight: bold;
            color: #333;
        }
        
        .sub_subnav-content {
            display: none;
            position: relative;
            left: 100;
            background-color: white;
            width: 100%;
            z-index: 0;
        }
        
        .sub_subnav-content a {
            font-size: 15px;
            float: center;
            color: #333;
            text-decoration: none;
        }
        
        .sub_subnav-content a:hover {
            font-size: 15px;
            background-color: white;
            font-weight: bold;
            color: #333;
        }
        
        .subnav:hover .subnav-content,
        .sub_subnav:hover .sub_subnav-content {
            display: block;
        }
    </style>

</head>

<body>
    <div id="demo"></div>
    <div id="header">
        <h1> Map 1 </h1>
    </div>
    <div class="navbar">
        <div class="subnav" id="basemap">
            <button class="subnavbtn"> Basemap <i class="fa fa-caret-down"></i></button>
        </div>

        <!-- <div class="subnav" id="bangalore">
            <button class="subnavbtn"> Bangalore <i class="fa fa-caret-down"></i></button>
            <div class="subnav-content">
                <a href="#" onclick=ban(0)> Show Grid </a>
                <a href="#" onclick=ban(1)> Grid Type </a>
                <a href="#" onclick=ban(2)> Class Label </a>
            </div>
        </div>
        <div class="subnav" id="chandigarh">
            <button class="subnavbtn"> Chandigarh <i class="fa fa-caret-down"></i></button>
            <div class="subnav-content">
                <a href="#" onclick=chd(0)> Show Grid </a>
                <a href="#" onclick=chd(1)> Grid Type </a>
                <a href="#" onclick=chd(2)> Class Label </a>
            </div>
        </div>
        <div class="subnav" id="chennai">
            <button class="subnavbtn"> Chennai <i class="fa fa-caret-down"></i></button>
            <div class="subnav-content">
                <a href="#" onclick=chn(0)> Show Grid </a>
                <a href="#" onclick=chn(1)> Grid Type </a>
                <a href="#" onclick=chn(2)> Class Label </a>
            </div>
        </div>
        <div class="subnav" id="delhi">
            <button class="subnavbtn"> Delhi <i class="fa fa-caret-down"></i></button>
            <div class="subnav-content">
                <a href="#" onclick=del(0)> Show Grid </a>
                <a href="#" onclick=del(1)> Grid Type </a>
                <a href="#" onclick=del(2)> Class Label </a>
            </div>
        </div>
        <div class="subnav" id="gurgaon">
            <button class="subnavbtn"> Gurgaon <i class="fa fa-caret-down"></i></button>
            <div class="subnav-content">
                <a href="#" onclick=gur(0)> Show Grid </a>
                <a href="#" onclick=gur(1)> Grid Type </a>
                <a href="#" onclick=gur(2)> Class Label </a>
            </div>
        </div>
        <div class="subnav" id="hyderabad">
            <button class="subnavbtn"> Hyderabad <i class="fa fa-caret-down"></i></button>
            <div class="subnav-content">
                <a href="#" onclick=hyd(0)> Show Grid </a>
                <a href="#" onclick=hyd(1)> Grid Type </a>
                <a href="#" onclick=hyd(2)> Class Label </a>
            </div>
        </div>
        <div class="subnav" id="kolkata">
            <button class="subnavbtn"> Kolkata <i class="fa fa-caret-down"></i></button>
            <div class="subnav-content">
                <a href="#" onclick=kol(0)> Show Grid </a>
                <a href="#" onclick=kol(1)> Grid Type </a>
                <a href="#" onclick=kol(2)> Class Label </a>
            </div>
        </div> -->

        <div class="subnav" id="mumbai">
            <button class="subnavbtn"> Mumbai </button>
            <div class="subnav-content">
                <div class="sub_subnav">
                    <button class="sub_subnavbtn"> WorldPop Based </i></button>
                    <div class="sub_subnav-content">
                        <a href="#" onclick=mum(2,1)> Population </a>
                    </div>
                </div>
                <div class="sub_subnav">
                    <button class="sub_subnavbtn"> OSM Based </i></button>
                    <div class="sub_subnav-content">
                        <a href="#" onclick=mum(1,1)> Grid Type </a>
                        <a href="#" onclick=mum(1,2)> Class Label </a>
                        <a href="#" onclick=mum(1,3)> Three Ways </a>
                        <a href="#" onclick=mum(1,4)> Four Ways </a>
                        <a href="#" onclick=mum(1,5)> Urban Percentage</a>
                        <a href="#" onclick=mum(1,6)> PeriUrban Percentage </a>
                        <a href="#" onclick=mum(1,7)> Rural Percentage </a>
                        <a href="#" onclick=mum(1,8)> Walkability </a>
                    </div>
                </div>
                <div class="sub_subnav">
                    <button class="sub_subnavbtn"> Google Places Based </i></button>
                    <div class="sub_subnav-content">
                        <a href="#" onclick=mum(3,1)> Nearest Connectivity </a>
                        <a href="#" onclick=mum(3,2)> Num Connectivity </a>
                        <a href="#" onclick=mum(3,3)> Nearest Education </a>
                        <a href="#" onclick=mum(3,4)> Num Education </a>
                        <a href="#" onclick=mum(3,5)> Nearest GovtFac </a>
                        <a href="#" onclick=mum(3,6)> Num GovtFac </a>
                        <a href="#" onclick=mum(3,7)> Nearest Health </a>
                        <a href="#" onclick=mum(3,8)> Num Health </a>
                        <a href="#" onclick=mum(3,9)> Nearest Utilities </a>
                        <a href="#" onclick=mum(3,10)> Num Utilities </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="map"></div>

    <script>
        let map;
        let infoWindow;

        var basemap = {
            lat: 20.59,
            lng: 78.96
        }
        var bangalore = {
            lat: 12.97,
            lng: 77.59
        }
        var chandigarh = {
            lat: 30.73,
            lng: 76.78
        }
        var chennai = {
            lat: 13.08,
            lng: 80.27
        }
        var delhi = {
            lat: 28.70,
            lng: 77.10
        }
        var gurgaon = {
            lat: 28.46,
            lng: 77.03
        }
        var hyderabad = {
            lat: 17.38,
            lng: 78.49
        }
        var kolkata = {
            lat: 22.57,
            lng: 88.36
        }
        var mumbai = {
            lat: 19.08,
            lng: 72.88
        }

        let dataArr;
        var colArr = [];

        function initMap(options) {
            map = new google.maps.Map(document.getElementById("map"), options);
        }

        document.getElementById("basemap").addEventListener("click", function() {
            map.setCenter(basemap);
            map.setZoom(5);
        })
        document.getElementById("bangalore").addEventListener("click", function() {
            map.setCenter(bangalore);
            map.setZoom(10);
        })
        document.getElementById("chandigarh").addEventListener("click", function() {
            map.setCenter(chandigarh);
            map.setZoom(10);
        })
        document.getElementById("chennai").addEventListener("click", function() {
            map.setCenter(chennai);
            map.setZoom(10);
        })
        document.getElementById("delhi").addEventListener("click", function() {
            map.setCenter(delhi);
            map.setZoom(10);
        })
        document.getElementById("gurgaon").addEventListener("click", function() {
            map.setCenter(gurgaon);
            map.setZoom(10);
        })
        document.getElementById("hyderabad").addEventListener("click", function() {
            map.setCenter(hyderabad);
            map.setZoom(10);
        })
        document.getElementById("kolkata").addEventListener("click", function() {
            map.setCenter(kolkata);
            map.setZoom(10);
        })
        document.getElementById("mumbai").addEventListener("click", function() {
            map.setCenter(mumbai);
            map.setZoom(10);
        })

        function ban(flag) {
            initMap({
                zoom: 10,
                center: bangalore
            });

            Grid_type = Bangalore_Grid_type;
            Class_label = Bangalore_Class_label;

            getColorArrays(Grid_type, gridtypeColor);
            getColorArrays(Class_label, classlabelColor);

            let k = 0;
            for (let i = 0; i < 51; i++)
                for (let j = 0; j < 59; j++) {
                    setCoords({
                        properties: {
                            lat: Bangalore_Grid_Coordinates[0] + 0.01 * j,
                            lng: Bangalore_Grid_Coordinates[1] + 0.01 * i,
                            num: k
                        }
                    }, flag);
                    k += 1;
                }
        }

        function chd(flag) {
            initMap({
                zoom: 10,
                center: chandigarh
            });

            let k = 0;
            for (let i = 0; i < 15; i++)
                for (let j = 0; j < 14; j++) {
                    setCoords({
                        properties: {
                            lat: 30.66 + 0.01 * j,
                            lng: 76.69 + 0.01 * i,
                            num: k
                        }
                    }, flag);
                    k += 1;
                }
        }

        function chn(flag) {
            initMap({
                zoom: 10,
                center: chennai
            });

            Grid_type = Chennai_Grid_type;
            Class_label = Chennai_Class_label;

            getColorArrays(Grid_type, gridtypeColor);
            getColorArrays(Class_label, classlabelColor);

            let k = 0;
            for (let i = 0; i < 15; i++)
                for (let j = 0; j < 19; j++) {
                    setCoords({
                        properties: {
                            lat: Chennai_Grid_Coordinates[0] + 0.01 * j,
                            lng: Chennai_Grid_Coordinates[1] + 0.01 * i,
                            num: k
                        }
                    }, flag);
                    k += 1;
                }
        }

        function del(flag) {
            initMap({
                zoom: 10,
                center: delhi
            });

            Grid_type = Delhi_Grid_type;
            Class_label = Delhi_Class_label;

            getColorArrays(Grid_type, gridtypeColor);
            getColorArrays(Class_label, classlabelColor);

            let k = 0;
            for (let i = 0; i < 51; i++)
                for (let j = 0; j < 49; j++) {
                    setCoords({
                        properties: {
                            lat: Delhi_Grid_Coordinates[0] + 0.01 * j,
                            lng: Delhi_Grid_Coordinates[1] + 0.01 * i,
                            num: k
                        }
                    }, flag);
                    k += 1;
                }
        }

        function gur(flag) {
            initMap({
                zoom: 10,
                center: gurgaon
            });

            Grid_type = Gurgaon_Grid_type;
            Class_label = Gurgaon_Class_label;

            getColorArrays(Grid_type, gridtypeColor);
            getColorArrays(Class_label, classlabelColor);

            let k = 0;
            for (let i = 0; i < 61; i++)
                for (let j = 0; j < 35; j++) {
                    setCoords({
                        properties: {
                            lat: Gurgaon_Grid_Coordinates[0] + 0.01 * j,
                            lng: Gurgaon_Grid_Coordinates[0] + 0.01 * i,
                            num: k
                        }
                    }, flag);
                    k += 1;
                }
        }

        function hyd(flag) {
            initMap({
                zoom: 10,
                center: hyderabad
            });

            Grid_type = Hyderabad_Grid_type;
            Class_label = Hyderabad_Class_label;

            getColorArrays(Grid_type, gridtypeColor);
            getColorArrays(Class_label, classlabelColor);

            let k = 0;
            for (let i = 0; i < 16; i++)
                for (let j = 0; j < 19; j++) {
                    setCoords({
                        properties: {
                            lat: Hyderabad_Grid_Coordinates[0] + 0.01 * j,
                            lng: Hyderabad_Grid_Coordinates[1] + 0.01 * i,
                            num: k
                        }
                    }, flag);
                    k += 1;
                }
        }

        function kol(flag) {
            initMap({
                zoom: 10,
                center: kolkata
            });

            Grid_type = Kolkata_Grid_type;
            Class_label = Kolkata_Class_label;

            getColorArrays(Grid_type, gridtypeColor);
            getColorArrays(Class_label, classlabelColor);

            let k = 0;
            for (let i = 0; i < 14; i++)
                for (let j = 0; j < 14; j++) {
                    setCoords({
                        properties: {
                            lat: Kolkata_Grid_Coordinates[0] + 0.01 * j,
                            lng: Kolkata_Grid_Coordinates[1] + 0.01 * i,
                            num: k
                        }
                    }, flag);
                    k += 1;
                }
        }

        function mum(indic, flag) {
            initMap({
                zoom: 10,
                center: mumbai
            });

            if (indic == 1) {
                switch (flag) {
                    case 1:
                        dataArr = Mumbai_Grid_type;
                        break;
                    case 2:
                        dataArr = Mumbai_Class_label;
                        break;
                    case 3:
                        dataArr = Mumbai_Three_ways;
                        break;
                    case 4:
                        dataArr = Mumbai_Four_ways;
                        break;
                    case 5:
                        dataArr = Mumbai_Urban_percentage;
                        break;
                    case 6:
                        dataArr = Mumbai_Periurban_percentage;
                        break;
                    case 7:
                        dataArr = Mumbai_Rural_percentage;
                        break;
                    case 8:
                        dataArr = Mumbai_Walkability_ratio;
                        break;
                    default:
                        break;
                }
            }
            if (indic == 2) {
                dataArr = Mumbai_Grid_Population
            }
            if (indic == 3) {
                switch (flag) {
                    case 1:
                        dataArr = Mumbai_n_Connectivity;
                        break;
                    case 2:
                        dataArr = Mumbai_num_Connectivity;
                        break;
                    case 3:
                        dataArr = Mumbai_n_Education;
                        break;
                    case 4:
                        dataArr = Mumbai_num_Education;
                        break;
                    case 5:
                        dataArr = Mumbai_n_Government_Facilities;
                        break;
                    case 6:
                        dataArr = Mumbai_num_Government_Facilities;
                        break;
                    case 7:
                        dataArr = Mumbai_n_Health;
                        break;
                    case 8:
                        dataArr = Mumbai_num_Health;
                        break;
                    case 9:
                        dataArr = Mumbai_n_Utilities;
                        break;
                    case 10:
                        dataArr = Mumbai_num_Utilities;
                        break;
                    default:
                        break;
                }
            }

            getColorArrays(dataArr, colArr);

            let k = 0;
            for (let i = 0; i < 22; i++)
                for (let j = 0; j < 38; j++) {
                    setCoords({
                        properties: {
                            lat: Mumbai_Grid_Coordinates[0] + 0.01 * j,
                            lng: Mumbai_Grid_Coordinates[1] + 0.01 * i,
                            num: k
                        }
                    }, flag);
                    k += 1;
                }
        }

        function setCoords(props, flag) {
            var gridNumber = props.properties.num
            var lat1 = props.properties.lat
            var lng1 = props.properties.lng
            var lat2 = props.properties.lat + 0.01
            var lng2 = props.properties.lng
            var lat3 = props.properties.lat + 0.01
            var lng3 = props.properties.lng + 0.01
            var lat4 = props.properties.lat
            var lng4 = props.properties.lng + 0.01

            const myGrid = new google.maps.Polygon({
                paths: [{
                    lat: lat1,
                    lng: lng1
                }, {
                    lat: lat2,
                    lng: lng2
                }, {
                    lat: lat3,
                    lng: lng3
                }, {
                    lat: lat4,
                    lng: lng4
                }, ],

                strokeColor: "#000000",
                strokeOpacity: 0.8,
                strokeWeight: 1,
                fillColor: getColor(gridNumber, flag),
                fillOpacity: 1,
            });

            myGrid.setMap(map);
            myGrid.addListener("click", showArrays);
            infoWindow = new google.maps.InfoWindow();
        }

        function getColor(gridNumber, flag) {
            var color = "#";
            var i = gridNumber;

            color += colArr[i];
            return color;
        }

        function showArrays(event) {
            const polygon = this;
            const vertices = polygon.getPath();
            let contentString =
                "Location: <br>" + event.latLng.lat() + ", " + event.latLng.lng() + "<br>" +
                "Bottom Left Coordinate: " + vertices.getAt(3).lat().toFixed(2) + ", " + vertices.getAt(0).lng().toFixed(2);

            infoWindow.setContent(contentString);
            infoWindow.setPosition(event.latLng);
            infoWindow.open(map);
        }

        function getColorArrays(arr, arrc) {
            arrc.length = 0;
            var init = 0;
            for (var x = 1; x < arr.length; x += 2) {
                init = arr[x];
                for (var y = 0; y < init; y++) {
                    arrc.push(_Color(arr[x - 1]));
                }
            }
        }

        function _Color(type) {
            if (type == "0" || type == "Rejected") return "000000"; //BLACK
            else if (type == "1" || type == "Rural") return "481567";
            else if (type == "2" || type == "PeriUrban") return "453781";
            else if (type == "3" || type == "Urban") return "39569C";
            else if (type == "4") return "2D708E";
            else if (type == "5") return "238A8D";
            else if (type == "6") return "20A387";
            else if (type == "7") return "3CBB75";
            else if (type == "8") return "95D840";
            else if (type == "9") return "FDE725";
            else if (type == "10") return "FFFF99";

            else return "FFFFFF";
        }
    </script>

    <script async src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDcUwalgqsvIaIGrfePKN1qNdoDMJJWy2A&callback=initMap">
    </script>
</body>

</html>